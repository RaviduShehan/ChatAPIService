pipeline {
    agent any
    environment {
        dockerImageName = "shehan97105/chatapiservice"
        dockerImage = null
    }
    stages {
        stage('Deploy to Dev Enviornement') {
            steps {
                script {
                     kubernetesDeploy(configs: 'chat_dev.yml', kubeconfigId: 'kubernetesconfigpwd')
                    }
                }
            }
        stage('Deploy to Prod Enviornement') {
            steps {
                script {
                     kubernetesDeploy(configs: 'chat_prod.yml', kubeconfigId: 'kubernetesconfigpwd')
                    }
                }
            }
     }
}
